<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>G-Pass beta-version</title>
    <link rel="stylesheet" href="{{ url_for('static',filename='main.css') }}" />
  </head>
  <body>

    <div class="theme-dark">
      <center>
        <br />
        <h1 class="title">G-Pass beta-version</h1>
        <p>Have a lowely day ;)</p>
        <hr />
        <p>Total Accounts : {{ac}} <br />Unique Sites : {{wc}}</p>
        <br />
        <p>
			<a href="/" class="button is-info">Home</a>
        	<a href="#" class="button is-success js-modal-trigger" data-target="new-account-add-modal" >Add New Account</a>
        	<a href="#" class="button is-info js-modal-trigger" data-target="search-modal">Search</a>
        </p>

		<!-- all the accounts -->
		<br>
		

			<h3>{{data.username}} | {{data.name}} | {{data.email}}</h3>
			<p>{{data.details | safe}}</p>

   </center>

  </body>
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      // Functions to open and close a modal
      function openModal($el) {
        $el.classList.add("is-active");
      }

      function closeModal($el) {
        $el.classList.remove("is-active");
      }

      function closeAllModals() {
        (document.querySelectorAll(".modal") || []).forEach(($modal) => {
          closeModal($modal);
        });
      }

      // Add a click event on buttons to open a specific modal
      (document.querySelectorAll(".js-modal-trigger") || []).forEach(
        ($trigger) => {
          const modal = $trigger.dataset.target;
          const $target = document.getElementById(modal);

          $trigger.addEventListener("click", () => {
            openModal($target);
          });
        }
      );

      // Add a click event on various child elements to close the parent modal
      (
        document.querySelectorAll(
          ".modal-background, .modal-close, .modal-card-head .delete, .modal-card-foot .button"
        ) || []
      ).forEach(($close) => {
        const $target = $close.closest(".modal");

        $close.addEventListener("click", () => {
          closeModal($target);
        });
      });

      // Add a keyboard event to close all modals
      document.addEventListener("keydown", (event) => {
        if (event.key === "Escape") {
          closeAllModals();
        }
      });
    });
  </script>
</html>
